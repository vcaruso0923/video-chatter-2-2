(this["webpackJsonpclient-2"]=this["webpackJsonpclient-2"]||[]).push([[0],{100:function(e,n){},102:function(e,n){},112:function(e,n,a){"use strict";a.r(n);var t,r,o,c,i,l,s=a(0),m=a.n(s),u=a(56),d=a.n(u),p=(a(67),a(61)),g=a(1),w=a(7),b=a(114),h=a(8);const f=h.a.div(t||(t=Object(w.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 60vh;\n    flex-wrap: wrap;\n"]))),v=h.a.div(r||(r=Object(w.a)(["\n    background-color: #343a40!important;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    max-width: 400px;\n    border-radius: 6px;\n"]))),E=h.a.div(o||(o=Object(w.a)(["\n    width: 100%;\n    text-align: center;\n"]))),j=h.a.button(c||(c=Object(w.a)(["\n    background-color: #343a40;\n    color: white !important;\n    border-radius: 6px;\n    margin: 48px 0;\n    font-size: 1.75rem;\n"]))),x=h.a.p(i||(i=Object(w.a)(["\n    font-size: 1.5rem;\n    color: white;\n    margin 32px 0;\n"]))),O=h.a.input(l||(l=Object(w.a)(["\n    margin-top: 32px;\n    width: 300px;\n    border-radius: 6px;\n"])));var k,y,I,D=e=>{const[n,a]=Object(s.useState)("");return m.a.createElement("div",{className:"container-fluid centered"},m.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark sticky-top"},m.a.createElement("a",{href:window.location.origin},m.a.createElement("span",{className:"navbar-brand"},"Vroom"))),m.a.createElement(f,{className:"join-room-page-container"},m.a.createElement(v,null,m.a.createElement(E,null,m.a.createElement(j,{onClick:function(){const n=Object(b.a)();e.history.push("/room/".concat(n))}},"Create new room")),m.a.createElement(x,null,"- OR -"),m.a.createElement(E,null,m.a.createElement(O,{onChange:e=>a(e.target.value)})),m.a.createElement(E,null,m.a.createElement(j,{onClick:()=>{n.length>30?window.location.assign(window.location.origin+"/"+n):alert("Invalid room ID!")}},"Join room")))))},N=a(60),R=a.n(N),C=a(30),S=a.n(C);const J=h.a.div(k||(k=Object(w.a)(["\n    display: flex;\n    width: auto;\n    margin: 0 auto;\n    flex-wrap: wrap;\n    padding: 0;\n"]))),W=h.a.video(y||(y=Object(w.a)(["\n    height: 200px;\n    width: 33%;\n    display: flex;\n    margin-bottom: 15px;\n"]))),z=h.a.button(I||(I=Object(w.a)(["\n    background-color: #343a40;\n    color: white !important\n"]))),B=e=>{const n=Object(s.useRef)();return Object(s.useEffect)(()=>{e.peer.on("stream",e=>{n.current.srcObject=e})},[]),m.a.createElement(W,{playsInline:!0,autoPlay:!0,ref:n})},M={height:window.innerHeight/2,width:window.innerWidth/2};var P=e=>{const[n,a]=Object(s.useState)([]),t=Object(s.useRef)(),r=Object(s.useRef)(),o=Object(s.useRef)([]),c=e.match.params.roomID;Object(s.useEffect)(()=>{t.current=R.a.connect("/"),navigator.mediaDevices.getUserMedia({video:M,audio:!0}).then(e=>{r.current.srcObject=e,t.current.emit("join room",c),t.current.on("all users",n=>{const r=[];n.forEach(n=>{const a=function(e,n,a){const r=new S.a({initiator:!0,trickle:!1,stream:a});return r.on("signal",a=>{t.current.emit("sending signal",{userToSignal:e,callerID:n,signal:a})}),r}(n,t.current.id,e);o.current.push({peerID:n,peer:a}),r.push(a)}),a(r)}),t.current.on("user joined",n=>{const r=function(e,n,a){const r=new S.a({initiator:!1,trickle:!1,stream:a});return r.on("signal",e=>{t.current.emit("returning signal",{signal:e,callerID:n})}),r.signal(e),r}(n.signal,n.callerID,e);o.current.push({peerID:n.callerID,peer:r}),a(e=>[...e,r])}),t.current.on("receiving returned signal",e=>{o.current.find(n=>n.peerID===e.id).peer.signal(e.signal)})}).catch(e=>{window.alert(e)})},[]);return m.a.createElement("div",{className:"container-fluid centered"},m.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark sticky-top"},m.a.createElement("a",{href:window.location.origin},m.a.createElement("span",{className:"navbar-brand"},"Vroom")),m.a.createElement(z,{onClick:()=>{navigator.clipboard.writeText(window.location.href),window.alert("Copied meeting link to clipboard!")},className:"navbar-text room-id-button"},"Room ID: ",window.location.href.split("/").pop()),m.a.createElement("div",{className:"justify-content-end navbar-collapse collapse"},m.a.createElement("span",{className:"navbar-text"},m.a.createElement("span",null,m.a.createElement("a",{href:window.location.origin},"Leave Room"))))),m.a.createElement(J,null,m.a.createElement(W,{muted:!0,ref:r,autoPlay:!0,playsInline:!0}),n.map((e,n)=>m.a.createElement(B,{key:n,peer:e}))))};var T=function(){return m.a.createElement(p.a,null,m.a.createElement(g.c,null,m.a.createElement(g.a,{path:"/",exact:!0,component:D}),m.a.createElement(g.a,{path:"/room/:roomID",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},62:function(e,n,a){e.exports=a(112)},67:function(e,n,a){},91:function(e,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.5cf6094f.chunk.js.map